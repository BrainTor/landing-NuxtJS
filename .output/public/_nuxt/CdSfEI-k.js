import{_}from"./DIoAIqhh.js";import{B as y}from"./D6ztUD0U.js";import{a as g}from"./BimPEqV4.js";import{u as p}from"./CQZyZm_N.js";import{s as u}from"./Da2ztMYc.js";import{_ as d,c as i,b as m,w as f,a as t,t as l,r as v,o}from"./CXDA0QrK.js";const k={name:"ham",data(){return{money:0,lvl:1,money_per_h:900,energy:100,money_per_click:1,one_time:!0,img_src:require("@/assets/img/games/coin1.png"),sources:[require("@/assets/img/games/coin2.png"),require("@/assets/img/games/coin3.png"),require("@/assets/img/games/coin4.png"),require("@/assets/img/games/coin5.png"),require("@/assets/img/games/coin6.png"),require("@/assets/img/games/coin7.png")],startTime:0,endTime:0,local_ref:null,is_mobile:!1}},components:{Back_Button:y},methods:{async send_location(s,e){g.post(`http://${this.$config.public.NUXT_APP_BACK_IP}:${this.$config.public.NUXT_APP_BACK_PORT}/send_location`,{location:"game_ham",referal:s,time:e})},click_button(){this.energy<=0||(this.money+=this.money_per_click,this.energy-=this.money_per_click,this.$refs.main_but.classList.add("animate"),setTimeout(()=>{this.$refs.main_but.classList.remove("animate")},301),localStorage.setItem("money",this.money),localStorage.setItem("energy",this.energy))},update_money(){setTimeout(()=>{this.money>1e3&&this.lvl==1&&(this.lvl++,this.energy=this.energy+500,this.money_per_click+=10,this.img_src=this.sources[0],localStorage.setItem("lvl",this.lvl),localStorage.setItem("energy",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),this.money>1e4&&this.lvl==2&&(this.lvl++,this.energy=parseInt(this.energy)+500,this.img_src=this.sources[1],this.money_per_click+=20,localStorage.setItem("lvl",this.lvl),localStorage.setItem("energy",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),this.money>1e5&&this.lvl==3&&(this.lvl++,this.energy=parseInt(this.energy)+500,this.img_src=this.sources[2],this.money_per_click+=30,localStorage.setItem("lvl",this.lvl),localStorage.setItem("energy",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),this.money>1e6&&this.lvl==4&&(this.lvl++,this.energy=parseInt(this.energy)+500,this.img_src=this.sources[3],this.money_per_click+=40,localStorage.setItem("lvl",this.lvl),localStorage.setItem("energy",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),this.money>1e7&&this.lvl==5&&(this.lvl++,this.energy=parseInt(this.energy)+500,this.img_src=this.sources[4],this.money_per_click+=52,localStorage.setItem("lvl",this.lvl),localStorage.setItem("energy",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),this.money>1e8&&this.lvl==6&&(this.lvl++,this.energy=parseInt(this.energy)+500,this.img_src=this.sources[5],this.money_per_click+=60,localStorage.setItem("lvl",this.lvl),localStorage.setItem("energys",this.energy),localStorage.setItem("money_per_click",this.money_per_click)),setTimeout(()=>{this.money+=this.money_per_h/3600,localStorage.setItem("money",this.money),this.update_money()},400)},600)},updateMetaTags(){p({title:"Почти Hamster Combat",meta:[{name:"description",content:"Игра по мотивам Hamster Combat И NotCoin в ней вы не заработаете, но хорошо проведете время!"},{name:"keywords",content:"Hammster Combat,Hammster Combat online, хомяк , игра хомяк, хомяк играть"}]})}},created(){this.updateMetaTags()},mounted(){window.innerWidth<900&&(this.is_mobile=!0),this.startTime=new Date,localStorage.getItem("ref")!=null&&(this.local_ref=localStorage.getItem("ref")),this.one_time&&(this.one_time=!1,u(()=>{this.energy<100+500*(this.lvl-1)&&(this.energy++,localStorage.setItem("energy",this.energy))},1e3)),localStorage.getItem("money")!=null&&(this.money=parseFloat(localStorage.getItem("money"))),localStorage.getItem("energy")!=null&&(this.energy=parseFloat(localStorage.getItem("energy"))),localStorage.getItem("lvl")!=null&&(this.lvl=parseInt(localStorage.getItem("lvl"))),localStorage.getItem("money_per_click")!=null&&(this.money_per_click=parseInt(localStorage.getItem("money_per_click"))),this.update_money(),this.money>1e3&&this.lvl==2&&(this.img_src=this.sources[0]),this.money>1e4&&this.lvl==3&&(this.img_src=this.sources[1]),this.money>1e5&&this.lvl==4&&(this.img_src=this.sources[2]),this.money>1e6&&this.lvl==5&&(this.img_src=this.sources[3]),this.money>1e7&&this.lvl==6&&(this.img_src=this.sources[4]),this.money>1e8&&this.lvl==7&&(this.img_src=this.sources[5])},async beforeUnmount(){this.endTime=new Date;let s=Math.floor((this.endTime-this.startTime)/1e3);s=Math.floor(s/60)!=0?`Минут: ${Math.floor(s/60)}, Секунд: ${Math.floor(s%60)}`:`Секунд: ${Math.floor(s%60)}`,await this.send_location(this.local_ref,s)}},I={class:"main_container_game ham_page_mobile"},S={class:"row_ham"},b={key:0},T={key:1},w={key:2},B={style:{color:"#00FF00"}},x={key:3},C={style:{color:"#00FF00"}},$=["src"],q={class:"row_ham"},M={key:0},F={key:1},P={key:2},H={key:3};function N(s,e,A,D,n,r){const a=v("Back_Button"),h=_;return o(),i("div",I,[m(h,{to:"/study"},{default:f(()=>[m(a,{style:{position:"absolute",top:"50px",left:"4%"}})]),_:1}),t("div",S,[n.is_mobile?(o(),i("div",T,[e[2]||(e[2]=t("h3",null,"Уровень:",-1)),t("p",null,l(this.lvl),1)])):(o(),i("div",b,[e[1]||(e[1]=t("h2",null,"Ваш уровень:",-1)),t("p",null,l(this.lvl),1)])),n.is_mobile?(o(),i("div",x,[e[4]||(e[4]=t("h3",null,"Деньги:",-1)),t("p",C,l(this.money)+"$",1)])):(o(),i("div",w,[e[3]||(e[3]=t("h2",null,"Ваши деньги:",-1)),t("p",B,l(this.money)+"$",1)]))]),t("button",{style:{width:"fit-content","background-color":"transparent",border:"0px"},onClick:e[0]||(e[0]=(...c)=>r.click_button&&r.click_button(...c)),ref:"main_but"},[t("img",{src:n.img_src,class:"ham_img_mobile",width:"600px",style:{cursor:"pointer","-webkit-tap-highlight-color":"transparent","user-select":"none",outline:"none"}},null,8,$)],512),t("div",q,[n.is_mobile?(o(),i("div",F,[e[6]||(e[6]=t("h3",null,"Энергия:",-1)),t("p",null,l(this.energy),1)])):(o(),i("div",M,[e[5]||(e[5]=t("h2",null,"Ваша энергия:",-1)),t("p",null,l(this.energy),1)])),n.is_mobile?(o(),i("div",H,[e[8]||(e[8]=t("h3",null,"Деньги в час:",-1)),t("p",null,l(this.money_per_h),1)])):(o(),i("div",P,[e[7]||(e[7]=t("h2",null,"Ваши деньги в час:",-1)),t("p",null,l(this.money_per_h),1)]))])])}const O=d(k,[["render",N],["__scopeId","data-v-390b0fa6"]]);export{O as default};
